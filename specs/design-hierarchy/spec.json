{
  "name": "design-hierarchy",
  "status": "draft",
  "created": "2026-02-01",
  "updated": "2026-02-01",
  "author": "plan-agent",
  "version": "1.0.0",
  "files": {
    "requirements": "requirements.md",
    "design": "design.md",
    "tasks": "tasks.md",
    "summary": "summary.md",
    "meta": "meta.yaml"
  },
  "phases": [
    "Level Flag Infrastructure",
    "Templates",
    "Plan-Agent Pipeline",
    "Directory Management",
    "Checkpoints",
    "Validation",
    "Edge Cases"
  ],
  "tasks": [
    {
      "id": "T001",
      "title": "Add --project, --feature, --spec flags to design.md command",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T002",
      "title": "Add mutual exclusivity validation",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T003",
      "title": "Add prompt-if-missing behavior",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T004",
      "title": "Update preview to show level context",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T005",
      "title": "Create specs/templates/project.md",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T006",
      "title": "Create specs/templates/feature.md",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T007",
      "title": "Create specs/templates/features.json",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T008",
      "title": "Create specs/templates/specs.json",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T009",
      "title": "Add level detection to plan-agent.md",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T010",
      "title": "Route research phase by level",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T011",
      "title": "Route write phase by level",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T012",
      "title": "Route validate phase by level",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T013",
      "title": "Update context_summary flow for level",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T014",
      "title": "Implement nested directory creation",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T015",
      "title": "Add collision detection",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T016",
      "title": "Integrate with spec-path-resolver",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T017",
      "title": "Handle out-of-order creation (standalone fallback)",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T018",
      "title": "Implement level-prefixed checkpoint keys",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T019",
      "title": "Create project checkpoint questions (6+6)",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T020",
      "title": "Create feature checkpoint questions (6+6)",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T021",
      "title": "Verify spec checkpoint questions unchanged",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T022",
      "title": "Create validator-project.md template",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T023",
      "title": "Create validator-feature.md template",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T024",
      "title": "Verify validator-spec.md unchanged",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T025",
      "title": "Implement feature redesign manifest diffing",
      "status": "pending",
      "assignee": null
    },
    {
      "id": "T026",
      "title": "Handle stale features.json and cross-feature deps",
      "status": "pending",
      "assignee": null
    }
  ]
}
